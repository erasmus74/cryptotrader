version: "3.1"

services:

    influxdb:
        image: influxdb:1.2.4
        hostname: influxdb
        networks:
            - backend 
        environment:
            INFLUXDB_ADMIN_ENABLED: "true"
        volumes:
            - "influxdb-data:/var/lib/influxdb"
        deploy:
            replicas: 1
            resources:
                limits:
                    cpus: "1"
                    memory: 1g

            
networks:
    backend:
        external: true

volumes:
    influxdb-data: 
        driver: local-persist
        driver_opts:
            mountpoint: /mnt/shared_data/ltsdata/influxdb

